#文件系统

##inode

inode包含除了文件名外的所有文件信息,主要有以下内容:

* 文件大小
* 拥有者
* 组ID
* 文件权限
* 时间戳:最近访问时间,最近更改内容时间,最近变动inode时间
* 链接数
* 文件数据块的位置

使用`stat`命令:查看某个文件的inode信息

stat filename

```bash
  文件："sort.md"
  大小：140       	块：8          IO 块：4096   普通文件
设备：fd02h/64770d	Inode：23202140    硬链接：1
权限：(0664/-rw-rw-r--)  Uid：( 1000/ waiting)   Gid：( 1000/ waiting)
环境：unconfined_u:object_r:user_home_t:s0
最近访问：2015-04-14 12:04:22.372548800 +0800
最近更改：2015-04-14 12:04:22.372548800 +0800
最近改动：2015-04-14 12:04:22.372548800 +0800
创建时间：-
```

inode也会消耗硬盘空间,每个inode大小是128字节或256字节
硬盘格式化时,被自动分成两个区域,一个是数据区,一个是inode区

查看inode的命令:`df -i` 

每个inode都有一个号码,用于识别文件.

通过文件名打开文件的步骤:

1. 找到文件名对应的inode号码
2. 通过inode号码,获取inode信息
3. 根据inode信息,找到数据块位置,读出数据

`ls -i filename` 查看文件名对应的inode号码

##硬链接和软链接

*硬链接:两个文件名指向同一个inode和同一个数据块
	1.可以用不同的文件名访问相同的内容
	2.删除一个文件名,不影响另一个的访问,每删除一个文件名,链接数减1,直到链接数为0,才会回收文件.
	3.不可以跨文件系统使用

*软链接:有两个inode,一个包含文件的真正数据,另一个作为一个指针指向第一个文件.
	1.可以跨文件系统使用,甚至不同的电脑

`ln filename linkname` 硬链接

`ln -s filename linkname` 软链接




